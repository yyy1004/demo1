<!DOCTYPE html>
<html>
<head>
    <title>咨询列表显示界面</title>
    <meta http-equiv="pragma" content="no-cache" />
    <script src="/Scripts/loading.js" type="text/javascript"></script>
    <link href="/EasyUI/themes/icon.css" rel="stylesheet" type="text/css" />
    <link href="/EasyUI/themes/gray/easyui.css" rel="stylesheet" type="text/css" />
    <script src="/EasyUI/jquery.min.js" type="text/javascript"></script>
    <script src="/EasyUI/jquery.easyui.min.js" type="text/javascript"></script>
    <script src="/Scripts/distinguishBrowser.js" type="text/javascript"></script>
    <script src="../EasyUI/locale/easyui-lang-zh_CN.js" type="text/javascript"></script>
</head>
<body>
    <table id="dg" class="easyui-datagrid" title="诊断报告" url="/ZX/ZXHandler.ashx?action=GetAll"
        width="98%" pagination="true" rownumbers="true" fitcolumns="true" singleselect="true">
        <thead>
            <tr>
                <th field="Id" width="100" data-options="align:'center'">
                    咨询编号
                </th>
                <th field="Name" width="150" data-options="align:'center'">
                    专家名
                </th>
                <th field="JZId" width="130" data-options="align:'center',type:'combobox',valueField: 'text', textField: 'id', url: '/JZ/JZHandler.ashx?action=GetAllJZId', required: true">
                    机组编号
                </th>
                <th field="StartTime" width="100" data-options="align:'center',formatter:myformatter1">
                    提交时间
                </th>
                <th field="EndTime" width="100" data-options="align:'center',formatter:myformatter2">
                    完成时间
                </th>
                <th field="Status" width="100" data-options="align:'center',formatter:myformatter3">
                    状态
                </th>
            </tr>
        </thead>
    </table>
    <script type="text/javascript">
        function myformatter1(status) {
            if (status == null || status == '') {
                return "—";
            } else {
                return status;
            }
        }
        function myformatter2(status) {
            if (status == null || status == '') {
                return "—";
            } else {
                return status;
            }
        }
        function myformatter3(status) {
            if (status == 0) {
                return "尚未处理";
            } else if (status == 1) {
                return "<font color='green'>正在处理</font>";
            } else if (status == 2) {
                return "<font color='red'>已完成</font>"
            }
        }
    </script>
</body>
</html>
